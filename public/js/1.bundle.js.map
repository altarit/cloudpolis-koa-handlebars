{"version":3,"sources":["webpack:///./frontend/js/chat.js"],"names":[],"mappings":";;;;;mCAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC,uJ","file":"1.bundle.js","sourcesContent":["define(function() {\r\n  console.log(\"chat.js loaded\");\r\n  var chat = io.connect(window.location.origin+'/chat');\r\n  var sendButton;\r\n  var input;\r\n  var messageLog;\r\n\r\n  function prepare() {\r\n    sendButton = document.getElementById('chat-button-send');\r\n    input = document.getElementById('chat-input');\r\n    messageLog = document.getElementById('chat-messagelog');\r\n    sendButton.addEventListener('click', eventSendButtonClick);\r\n  }\r\n\r\n\r\n  chat.on('news', function (text) {\r\n    printMessage('Server', text);\r\n  });\r\n\r\n  chat.on('join', function (username) {\r\n    var row = document.createElement('div');\r\n    row.innerHTML = '<i><b>' + username + '</b> joined to this chat </i>';\r\n    messageLog.appendChild(row);\r\n  });\r\n\r\n  chat.on('leave', function (username) {\r\n    var row = document.createElement('div');\r\n    row.innerHTML = '<i><b>' + username + '</b> leaved from this chat </i>';\r\n    messageLog.appendChild(row);\r\n  });\r\n\r\n  chat.on('message', function (sender, text) {\r\n    printMessage(sender, text);\r\n  });\r\n\r\n  function eventSendButtonClick() {\r\n    var text = input.value;\r\n    chat.emit('message', text, function() {\r\n      console.log(text);\r\n      printMessage('You', text);\r\n    });\r\n    input.value = \"\";\r\n  }\r\n\r\n  function printMessage(username, text) {\r\n    var row = document.createElement('div');\r\n    row.innerHTML = '<b>'+username+'</b>: ' + text;\r\n    messageLog.appendChild(row);\r\n  }\r\n\r\n  return {\r\n    prepare: prepare\r\n  };\r\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./frontend/js/chat.js\n ** module id = 31\n ** module chunks = 1\n **/"],"sourceRoot":""}